<!DOCTYPE html>
<html lang="he">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>השתתפות בבניית הרובוט</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <h1>בניית הרובוט</h1>

    <p class="Description1">
        הכירו את הרובוט החינוכי שלנו – חבר חכם ויצירתי לילדים!
        הרובוט יודע להקשיב, להבין ולדבר בעברית, מזהה מחיאת כף, מציג הבעות פנים משתנות, עונה על שאלות, מספר סיפורים,
        משמיע צלילים, ומגיב בצורה חכמה למצבים.
        הוא מופעל בקלות דרך מסך מגע ומיועד לעורר סקרנות, לפתח שיחה, ולעזור בלמידה חווייתית – תוך שמירה על תכנים מותאמים
        לילדים.
    </p>

    <div id="goDownContainer" onclick="document.getElementById('bottom-section').scrollIntoView({behavior:'smooth'})">
        <div class="goDownText">⬇️ בוא נרד⬇️<br> ⬇️לעיניין⬇️</div>
        <img src="images/chevron.png" class="ggg123" alt="בוא נרד לעניין">
    </div>



    <p class="prohct123">👇אלו הרכיבים שנבחרו לפרויקט👇</p>
    <ul>
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="images/mader-bord.png" alt="Voice Sensor"
                style="max-width: 200px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);" />
            <br>
            <div style="font-size: 18px; color: #000000; font-weight: 500;">
                המוח עצמו של הפרוייקט הרובוטי
            </div>
            <br>
            <span style="color: #039be5; font-weight: bold;"> ₪410.00 כולל מע"מ</span>
            <br><br>
            <div style="font-size: 18px; color: #18b318; font-weight: 500;">
                Rspberry pi 4<br>
                זה שמו והוא נועד לשלוט על המערכת
            </div>
            <br>
            <div style="margin-top: 5px;">
                🔗 <a href="https://piitel.co.il/shop/raspberry-pi-4/?utm_source=chatgpt.com" target="_blank"
                    style="color: #2d59b8;">
                    https://piitel.co.il/shop/raspberry-pi-4/?utm_source=chatgpt.com
                </a>
            </div>
        </div>
        <br><br>
        <hr style="width: 150px; border: 1px solid #ccc; margin: 20px auto;" />
        <br><br>
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="images/1-31-600x600.jpg" alt="Voice Sensor"
                style="max-width: 200px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);" />
            <br>
            <div style="font-size: 18px; color: #000000; font-weight: 500;">
                כרטיס זיכרון פנימי SD
            </div>
            <br>
            <span style="color: #039be5; font-weight: bold;">45.00₪ כולל מע"מ</span>
            <br><br>
            <div style="font-size: 18px; color: #18b318; font-weight: 500;">
                ה־Raspberry Pi לא מגיע עם אחסון מובנה. כדי להפעיל אותו אתה צריך:
                <br><br>
                מה עושה כרטיס ה־microSD?
                שימוש הסבר
                🧠 מערכת ההפעלה הכרטיס מחזיק את הקבצים של ה־OS (במקום "דיסק קשיח")
                💾 קוד ודאטה שלך כל הקוד, הקבצים, הגדרות, יישומים – נשמרים עליו
                🎙️ קבצי שמע, דיבור, זיהוי קולי אם אתה עובד עם קבצים כבדים של AI או קול
                תמונות, הקלטות וידאו
            </div>
            <br>
            <div style="margin-top: 5px;">
                🔗 <a href="https://piitel.co.il/shop/verbatim-64gb-micro-sdhc-class-10/" target="_blank"
                    style="color: #2c2fca;">
                    https://piitel.co.il/shop/verbatim-64gb-micro-sdhc-class-10/
                </a>
            </div>
        </div>
        <br><br>
        <hr style="width: 150px; border: 1px solid #ccc; margin: 20px auto;" />
        <br><br>
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="images/7da11358-305f-4dea-b769-438ee57400b7_prvdsk.WEBP" alt="Voice Sensor"
                style="max-width: 200px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);" />
            <br>
            <div style="font-size: 18px; color: #000000; font-weight: 500;">
                בטריה להפעלת הלוח PI עם קישור דוגמה
            </div>
            <br>
            <span style="color: #039be5; font-weight: bold;">149 ₪</span>
            <br><br>
            <div style="font-size: 18px; color: #18b318; font-weight: 500;">
                הבטריה מתחבת עם USB למוח שגם לו יש כניסה 5V
                <br><br>
                זה רק דוגמה לא בהכרח שאני יקנה מבאג את הבטריה...
            </div>
            <br>
            <div style="margin-top: 5px;">
                🔗 <a href="https://www.bug.co.il/brand/xiaomi/power/bank/10000mah" target="_blank"
                    style="color: #2c2fca;">
                    https://www.bug.co.il/brand/<br>xiaomi/<br>power/bank/10000mah
                </a>
            </div>
        </div>
        <br><br>
        <hr style="width: 150px; border: 1px solid #ccc; margin: 20px auto;" />
        <br><br>
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="images/71kYFrX3wPL._AC_SL1500_.jpg" alt="Voice Sensor"
                style="max-width: 200px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);" />
            <br>
            <div style="font-size: 18px; color: #000000; font-weight: 500;">
                סליל הלחמה 😉
            </div>
            <br>
            <span style="color: #039be5; font-weight: bold;">$19.15</span>
            <br>
            <br>
            <div style="margin-top: 5px;">
                🔗 <a
                    href="https://www.amazon.ca/WYCTIN-1-0mm-Active-Solder-Soldering/dp/B071JTGL7C?utm_source=chatgpt.com&th=1"
                    target="_blank" style="color: #2c2fca;">
                    https://www.amazon.ca/WYCTIN-1-0mm-Active-Solder-Soldering/dp/B071JTGL7C?utm_source=chatgpt.com&th=1
                </a>
            </div>
        </div>
        <br><br>
        <hr style="width: 150px; border: 1px solid #ccc; margin: 20px auto;" />
        <br><br>
        <div style="text-align: center; margin-bottom: 20px;">
            <img src="images/61NyXzqoshL._AC_SX425_.jpg" alt="Voice Sensor"
                style="max-width: 200px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);" />
            <br>
            <div style="font-size: 18px; color: #000000; font-weight: 500;">
                מערך מיקרופון
                <br>
                <span style="color: #039be5; font-weight: bold;">$82.99</span>
                <br><br>
                <div style="font-size: 18px; color: #18b318; font-weight: 500;">
                    המיקורופון הזה מסוגל לסננן רעשים לקלוט מילים ולשלוח אותן לPI והמוח מקבל את זה כפקודה ושולח לOPEN AI
                </div>
                <br><br>
                <div style="margin-top: 5px;">
                    🔗 <a
                        href="https://www.amazon.com/-/he/%D7%9E%D7%99%D7%A7%D7%A8%D7%95%D7%A4%D7%95%D7%9F-ReSpeaker-%D7%90%D7%95%D7%98%D7%95%D7%9E%D7%A6%D7%99%D7%94-%D7%91%D7%9E%D7%9B%D7%95%D7%A0%D7%99%D7%AA-%D7%91%D7%A8%D7%99%D7%90%D7%95%D7%AA/dp/B07ZGZSBS4/ref=sr_1_1?crid=3L1ONF5HPG6O3&dib=eyJ2IjoiMSJ9._dwV7tO68uMDWXwb_aDVoOHokSlk-njzouwXBZ4a1kY.y8Z2aDhW0Ts3FWL2wn2K7vd-1gYt6fftA9Orcv7UV2Y&dib_tag=se&keywords=107990193%2C+Seeed+Studio+Accessories+ReSpeaker+USB+Mic+Array&qid=1749961400&sprefix=107990193%2C+seeed+studio+accessories+respeaker+usb+mic+array%2Caps%2C215&sr=8-1"
                        target="_blank" style="color: #2c2fca;">
                        https://amzn.to/3VoeGKu </a>
                </div>
            </div>
            <br><br>
            <hr style="width: 150px; border: 1px solid #ccc; margin: 20px auto;" />
            <br><br>
            <div style="text-align: center; margin-bottom: 20px;">
                <img src="images/71zoATu9ulL._AC_SL1500_.jpg" alt="Voice Sensor"
                    style="max-width: 200px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);" />
                <br>
                <div style="text-align: center; margin-bottom: 20px;">
                    <img src="images/617qjlsnE1L._SL1500_.jpg" alt="Voice Sensor"
                        style="max-width: 200px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1);" />
                    <br>
                    <div style="font-size: 18px; color: #000000; font-weight: 500;">
                        מודול I2S DAC + רמקולים
                        <br>
                        <span style="color: #039be5; font-weight: bold;">$6.88 / $9.99</span>
                        <br><br>
                        <div style="font-size: 18px; color: #18b318; font-weight: 500;">
                            זה נועד להאזין את הרמקול באודיו שהרובוט ידבר 👍
                        </div>
                        <br><br>
                        <div style="margin-top: 5px;">
                            🔗 <a
                                href="https://www.amazon.com/MAX98357-MAX98357A-Amplifier-Interface-Raspberry/dp/B0DPJRLMDJ?utm_source=chatgpt.com"
                                target="_blank" style="color: #2c2fca;">
                                https://amzn.to/3VoeGKu </a>
                        </div>
                        <div style="margin-top: 5px;">
                            🔗 <a
                                href="https://www.amazon.com/Loundspeaker-JST-PH2-0-Interface-Electronic-Advertising/dp/B0B4D2Z35P?utm_source=chatgpt.com&th=1"
                                target="_blank" style="color: #2c2fca;">
                                רמקולים https://www.amazon</a>
                        </div>
                    </div>
                    <br><br>
                    <hr style="width: 200px; border: 2px solid #ccc; margin: 20px auto;" />
    </ul>

    <h3>שם:</h3>
    <input type="text" id="nameInput" placeholder="הכנס שם">

    <h3>בחר אחוז השתתפות:</h3>
    <select id="percentSelect">
        <option value="5">5%</option>
        <option value="10">10%</option>
        <option value="15">15%</option>
        <option value="20">20%</option>
    </select>

    <br><br>
    <button onclick="submitForm()">השתתף בבניית הרובוט</button>
    <br><br>
    <h3 class="ggg">👇משתתפים בפרוייקט👇</h3>
    <table id="participantsTable">
        <thead>
            <tr>
                <th>שם</th>
                <th>אחוז השתתפות</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
    <div id="bottom-section"></div>

    <div class="total" id="totalPercent">סה"כ השתתפו: 0%</div>

    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

    <script>
        // ✅ לא נקרא supabase כדי לא להתנגש – שם חדש: client
        const client = window.supabase.createClient(
            "https://fqjfwtspitxhryirivdo.supabase.co",
            "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZxamZ3dHNwaXR4aHJ5aXJpdmRvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5NDM0MzMsImV4cCI6MjA2NTUxOTQzM30.QQPn4JthlXVF1Fb0PzqShbUpzBmA-_WJ9Zc4up4zwKg"
        );

        const tableBody = document.querySelector("#participantsTable tbody");
        const totalPercentEl = document.getElementById("totalPercent");

        async function loadParticipants() {
            const { data, error } = await client
                .from("participants")
                .select("*");

            if (error) {
                console.error("שגיאה בטעינה:", error.message);
                return;
            }

            tableBody.innerHTML = "";
            let total = 0;

            data.forEach(row => {
                const tr = document.createElement("tr");
                tr.innerHTML = `<td>${row.name}</td><td>${row.percent}%</td>`;
                tableBody.appendChild(tr);
                total += row.percent;
            });

            totalPercentEl.textContent = `סה"כ השתתפו: ${total}%`;
        }

        async function submitForm() {
            const name = document.getElementById("nameInput").value.trim();
            const percent = parseInt(document.getElementById("percentSelect").value);

            if (!name || isNaN(percent)) {
                alert("אנא מלא שם ובחר אחוז תקין");
                return;
            }

            const { error } = await client
                .from("participants")
                .insert([{ name, percent }]);

            if (error) {
                alert("שגיאה בשליחה: " + error.message);
            } else {
                document.getElementById("nameInput").value = "";
                document.getElementById("percentSelect").selectedIndex = 0;
                await loadParticipants();

                // ✅ גלול אוטומטית לתחתית הדף
                window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            const btn = document.getElementById("goDownBtn");
            btn.addEventListener("click", function () {
                const target = document.getElementById("bottom-section");
                if (target) {
                    target.scrollIntoView({ behavior: "smooth" });
                }
            });
        });
    </script>
</body>

</html>
